<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kenya SME Cybersecurity - Devices</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2357 0%, #0f1736 100%);
            color: white;
            min-height: 100vh;
            display: flex;
        }
        
        .sidebar {
            width: 250px;
            background-color: rgba(0, 0, 0, 0.2);
            padding: 20px 0;
            height: 100vh;
            position: fixed;
            overflow-y: auto;
        }
        
        .logo {
            display: flex;
            align-items: center;
            padding: 0 20px;
            margin-bottom: 30px;
        }
        
        .logo img {
            width: 40px;
            height: 40px;
            margin-right: 10px;
        }
        
        .logo h1 {
            font-size: 18px;
            font-weight: 600;
        }
        
        .nav-menu {
            list-style: none;
        }
        
        .nav-item {
            margin-bottom: 5px;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .nav-link:hover, .nav-link.active {
            background-color: rgba(34, 255, 133, 0.2);
            color: #22FF85;
        }
        
        .nav-link i {
            margin-right: 10px;
            font-size: 18px;
        }
        
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 20px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .page-title {
            font-size: 24px;
            font-weight: 600;
        }
        
        .user-info {
            display: flex;
            align-items: center;
        }
        
        .user-name {
            margin-right: 15px;
        }
        
        .logout-btn {
            background-color: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .logout-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .add-btn {
            background-color: #22FF85;
            color: #0f1736;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }
        
        .add-btn i {
            margin-right: 8px;
        }
        
        .add-btn:hover {
            background-color: #1ae077;
            transform: translateY(-2px);
        }
        
        .search-container {
            position: relative;
            width: 300px;
        }
        
        .search-input {
            width: 100%;
            padding: 10px 15px;
            padding-left: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 14px;
        }
        
        .search-input:focus {
            outline: none;
            background-color: rgba(255, 255, 255, 0.15);
        }
        
        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.5);
        }
        
        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-group {
            flex: 1;
            min-width: 200px;
        }
        
        .filter-label {
            font-size: 14px;
            margin-bottom: 5px;
            display: block;
        }
        
        .filter-select {
            width: 100%;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 14px;
        }
        
        .filter-select:focus {
            outline: none;
            background-color: rgba(255, 255, 255, 0.15);
        }
        
        .devices-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .device-card {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .device-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .device-header {
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .device-title {
            font-size: 18px;
            font-weight: 600;
        }
        
        .device-type {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 5px;
        }
        
        .device-status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-secure {
            background-color: rgba(34, 255, 133, 0.2);
            color: #22FF85;
        }
        
        .status-vulnerable {
            background-color: rgba(255, 159, 67, 0.2);
            color: #ff9f43;
        }
        
        .status-compromised {
            background-color: rgba(255, 91, 92, 0.2);
            color: #ff5b5c;
        }
        
        .status-unknown {
            background-color: rgba(180, 180, 180, 0.2);
            color: #d0d0d0;
        }
        
        .device-body {
            padding: 15px;
        }
        
        .device-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .info-item {
            margin-bottom: 10px;
        }
        
        .info-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 3px;
        }
        
        .info-value {
            font-size: 14px;
        }
        
        .device-stats {
            display: flex;
            justify-content: space-between;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 15px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: 600;
            color: #22FF85;
        }
        
        .stat-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .device-footer {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.1);
        }
        
        .device-action {
            padding: 8px 12px;
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 5px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .device-action:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .device-action.primary {
            background-color: rgba(34, 255, 133, 0.2);
            color: #22FF85;
        }
        
        .device-action.primary:hover {
            background-color: rgba(34, 255, 133, 0.3);
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            list-style: none;
            margin-top: 30px;
        }
        
        .pagination li {
            margin: 0 5px;
        }
        
        .pagination a {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 35px;
            height: 35px;
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .pagination a:hover, .pagination a.active {
            background-color: #22FF85;
            color: #0f1736;
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            overflow: auto;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a2357 0%, #0f1736 100%);
            margin: 5% auto;
            padding: 20px;
            width: 70%;
            border-radius: 10px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .close-btn:hover {
            color: #22FF85;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .form-control {
            width: 100%;
            padding: 10px 15px;
            background-color: rgba(255, 255, 255, 0.08);
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 14px;
        }
        
        .form-control:focus {
            outline: none;
            background-color: rgba(255, 255, 255, 0.15);
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-col {
            flex: 1;
        }
        
        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }
        
        .cancel-btn {
            background-color: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .cancel-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .submit-btn {
            background-color: #22FF85;
            color: #0f1736;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .submit-btn:hover {
            background-color: #1ae077;
        }
        
        /* Role-specific element styles */
        .admin-only, .manager-only, .analyst-only, .user-only {
            display: none;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <svg width="40" height="40" viewBox="0 0 100 100">
                <rect width="100" height="100" rx="20" fill="#22FF85" />
                <path d="M50 20C33.4315 20 20 33.4315 20 50C20 66.5685 33.4315 80 50 80C66.5685 80 80 66.5685 80 50C80 33.4315 66.5685 20 50 20ZM50 25C63.8071 25 75 36.1929 75 50C75 63.8071 63.8071 75 50 75C36.1929 75 25 63.8071 25 50C25 36.1929 36.1929 25 50 25Z" fill="white" />
                <path d="M45 60L35 50L40 45L45 50L60 35L65 40L45 60Z" fill="white" />
            </svg>
            <h1>kenyasmeutdrs</h1>
        </div>
        
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="dashboard.html" class="nav-link">
                    <i>📊</i> Dashboard
                </a>
            </li>
            <li class="nav-item admin-only">
                <a href="organizations.html" class="nav-link">
                    <i>🏢</i> Organizations
                </a>
            </li>
            <li class="nav-item analyst-only user-only">
                <a href="users.html" class="nav-link">
                    <i>👥</i> Users
                </a>
            </li>
            <li class="nav-item non-admin-only">
                <a href="devices.html" class="nav-link">
                    <i>💻</i> Devices
                </a>
            </li>
            <li class="nav-item non-admin-only">
                <a href="threats.html" class="nav-link">
                    <i>⚠️</i> Threats
                </a>
            </li>
            <li class="nav-item non-admin-only">
                <a href="vulnerabilities.html" class="nav-link">
                    <i>🛡️</i> Vulnerabilities
                </a>
            </li>
            <li class="nav-item analyst-only user-only admin-only">
                <a href="ai-models.html" class="nav-link">
                    <i>🤖</i> AI Models
                </a>
            </li>
            <li class="nav-item non-admin-only">
                <a href="reports.html" class="nav-link">
                    <i>📝</i> Reports
                </a>
            </li>
            <li class="nav-item admin-only manager-only">
                <a href="settings.html" class="nav-link">
                    <i>⚙️</i> Settings
                </a>
            </li>
        </ul>
    </div>
    
    <div class="main-content">
        <div class="header">
            <h1 class="page-title">Devices</h1>
            <div class="user-info">
                <span class="user-name" id="userName">User</span>
                <span class="user-role" id="userRole">(Role)</span>
                <button class="logout-btn" id="logoutBtn">Logout</button>
            </div>
        </div>
        
        <div class="content-header">
            <div class="search-container">
                <span class="search-icon">🔍</span>
                <input type="text" class="search-input" placeholder="Search devices...">
            </div>
            
            <button class="add-btn admin-manager-only" id="addDeviceBtn">
                <i>➕</i> Add Device
            </button>
        </div>
        
        <div class="filters">
            <div class="filter-group">
                <label class="filter-label">Device Type</label>
                <select class="filter-select">
                    <option value="all">All Types</option>
                    <option value="server">Server</option>
                    <option value="workstation">Workstation</option>
                    <option value="laptop">Laptop</option>
                    <option value="mobile">Mobile</option>
                    <option value="network">Network</option>
                    <option value="iot">IoT</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label class="filter-label">Security Status</label>
                <select class="filter-select">
                    <option value="all">All Statuses</option>
                    <option value="secure">Secure</option>
                    <option value="vulnerable">Vulnerable</option>
                    <option value="compromised">Compromised</option>
                    <option value="unknown">Unknown</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label class="filter-label">Operating System</label>
                <select class="filter-select">
                    <option value="all">All OS</option>
                    <option value="windows">Windows</option>
                    <option value="linux">Linux</option>
                    <option value="macos">macOS</option>
                    <option value="android">Android</option>
                    <option value="ios">iOS</option>
                </select>
            </div>
        </div>
        
        <div class="devices-grid">
            <div class="device-card">
                <div class="device-header">
                    <div>
                        <h3 class="device-title">sample-server-01</h3>
                        <div class="device-type">Server</div>
                    </div>
                    <span class="device-status status-secure">Secure</span>
                </div>
                <div class="device-body">
                    <div class="device-info">
                        <div class="info-item">
                            <div class="info-label">IP Address</div>
                            <div class="info-value">192.168.1.100</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">MAC Address</div>
                            <div class="info-value">00:11:22:33:44:55</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Operating System</div>
                            <div class="info-value">Ubuntu 22.04 LTS</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Last Seen</div>
                            <div class="info-value">2023-03-07 12:45 PM</div>
                        </div>
                    </div>
                    <div class="device-stats">
                        <div class="stat-item">
                            <div class="stat-value">0</div>
                            <div class="stat-label">Vulnerabilities</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">0</div>
                            <div class="stat-label">Threats</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">100%</div>
                            <div class="stat-label">Security</div>
                        </div>
                    </div>
                </div>
                <div class="device-footer">
                    <button class="device-action">Details</button>
                    <button class="device-action primary">Scan</button>
                    <button class="device-action analyst-admin-manager-only">Manage</button>
                </div>
            </div>
            
            <div class="device-card">
                <div class="device-header">
                    <div>
                        <h3 class="device-title">Workstation-01</h3>
                        <div class="device-type">Workstation</div>
                    </div>
                    <span class="device-status status-vulnerable">Vulnerable</span>
                </div>
                <div class="device-body">
                    <div class="device-info">
                        <div class="info-item">
                            <div class="info-label">IP Address</div>
                            <div class="info-value">192.168.1.101</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">MAC Address</div>
                            <div class="info-value">00:1A:2B:3C:4D:5E</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Operating System</div>
                            <div class="info-value">Windows 10 Pro</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Last Seen</div>
                            <div class="info-value">2023-03-07 11:30 AM</div>
                        </div>
                    </div>
                    <div class="device-stats">
                        <div class="stat-item">
                            <div class="stat-value">3</div>
                            <div class="stat-label">Vulnerabilities</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">1</div>
                            <div class="stat-label">Threats</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">75%</div>
                            <div class="stat-label">Security</div>
                        </div>
                    </div>
                </div>
                <div class="device-footer">
                    <button class="device-action">Details</button>
                    <button class="device-action primary">Scan</button>
                    <button class="device-action analyst-admin-manager-only">Manage</button>
                </div>
            </div>
            
            <div class="device-card">
                <div class="device-header">
                    <div>
                        <h3 class="device-title">Workstation-02</h3>
                        <div class="device-type">Workstation</div>
                    </div>
                    <span class="device-status status-vulnerable">Vulnerable</span>
                </div>
                <div class="device-body">
                    <div class="device-info">
                        <div class="info-item">
                            <div class="info-label">IP Address</div>
                            <div class="info-value">192.168.1.102</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">MAC Address</div>
                            <div class="info-value">00:2B:3C:4D:5E:6F</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Operating System</div>
                            <div class="info-value">Windows 10 Pro</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Last Seen</div>
                            <div class="info-value">2023-03-07 10:15 AM</div>
                        </div>
                    </div>
                    <div class="device-stats">
                        <div class="stat-item">
                            <div class="stat-value">2</div>
                            <div class="stat-label">Vulnerabilities</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">0</div>
                            <div class="stat-label">Threats</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">82%</div>
                            <div class="stat-label">Security</div>
                        </div>
                    </div>
                </div>
                <div class="device-footer">
                    <button class="device-action">Details</button>
                    <button class="device-action primary">Scan</button>
                    <button class="device-action analyst-admin-manager-only">Manage</button>
                </div>
            </div>
            
            <div class="device-card">
                <div class="device-header">
                    <div>
                        <h3 class="device-title">Laptop-01</h3>
                        <div class="device-type">Laptop</div>
                    </div>
                    <span class="device-status status-secure">Secure</span>
                </div>
                <div class="device-body">
                    <div class="device-info">
                        <div class="info-item">
                            <div class="info-label">IP Address</div>
                            <div class="info-value">192.168.1.103</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">MAC Address</div>
                            <div class="info-value">00:3C:4D:5E:6F:7G</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Operating System</div>
                            <div class="info-value">macOS 13.1</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Last Seen</div>
                            <div class="info-value">2023-03-07 09:45 AM</div>
                        </div>
                    </div>
                    <div class="device-stats">
                        <div class="stat-item">
                            <div class="stat-value">0</div>
                            <div class="stat-label">Vulnerabilities</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">0</div>
                            <div class="stat-label">Threats</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">98%</div>
                            <div class="stat-label">Security</div>
                        </div>
                    </div>
                </div>
                <div class="device-footer">
                    <button class="device-action">Details</button>
                    <button class="device-action primary">Scan</button>
                    <button class="device-action analyst-admin-manager-only">Manage</button>
                </div>
            </div>
            
            <div class="device-card">
                <div class="device-header">
                    <div>
                        <h3 class="device-title">Router-01</h3>
                        <div class="device-type">Network</div>
                    </div>
                    <span class="device-status status-compromised">Compromised</span>
                </div>
                <div class="device-body">
                    <div class="device-info">
                        <div class="info-item">
                            <div class="info-label">IP Address</div>
                            <div class="info-value">192.168.1.1</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">MAC Address</div>
                            <div class="info-value">00:4D:5E:6F:7G:8H</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Operating System</div>
                            <div class="info-value">RouterOS 6.48.4</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Last Seen</div>
                            <div class="info-value">2023-03-07 12:30 PM</div>
                        </div>
                    </div>
                    <div class="device-stats">
                        <div class="stat-item">
                            <div class="stat-value">2</div>
                            <div class="stat-label">Vulnerabilities</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">1</div>
                            <div class="stat-label">Threats</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">45%</div>
                            <div class="stat-label">Security</div>
                        </div>
                    </div>
                </div>
                <div class="device-footer">
                    <button class="device-action">Details</button>
                    <button class="device-action primary">Scan</button>
                    <button class="device-action analyst-admin-manager-only">Manage</button>
                </div>
            </div>
            
            <div class="device-card">
                <div class="device-header">
                    <div>
                        <h3 class="device-title">Mobile-01</h3>
                        <div class="device-type">Mobile</div>
                    </div>
                    <span class="device-status status-unknown">Unknown</span>
                </div>
                <div class="device-body">
                    <div class="device-info">
                        <div class="info-item">
                            <div class="info-label">IP Address</div>
                            <div class="info-value">192.168.1.104</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">MAC Address</div>
                            <div class="info-value">00:5E:6F:7G:8H:9I</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Operating System</div>
                            <div class="info-value">Android 13</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">Last Seen</div>
                            <div class="info-value">2023-03-07 08:30 AM</div>
                        </div>
                    </div>
                    <div class="device-stats">
                        <div class="stat-item">
                            <div class="stat-value">?</div>
                            <div class="stat-label">Vulnerabilities</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">?</div>
                            <div class="stat-label">Threats</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">?</div>
                            <div class="stat-label">Security</div>
                        </div>
                    </div>
                </div>
                <div class="device-footer">
                    <button class="device-action">Details</button>
                    <button class="device-action primary">Scan</button>
                    <button class="device-action analyst-admin-manager-only">Manage</button>
                </div>
            </div>
        </div>
        
        <ul class="pagination">
            <li><a href="#" class="active">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">»</a></li>
        </ul>
    </div>
    
    <!-- Add Device Modal -->
    <div id="addDeviceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add Device</h2>
                <button class="close-btn">&times;</button>
            </div>
            
            <form id="deviceForm">
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="hostname">Hostname</label>
                            <input type="text" id="hostname" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="deviceType">Device Type</label>
                            <select id="deviceType" class="form-control" required>
                                <option value="">Select Device Type</option>
                                <option value="server">Server</option>
                                <option value="workstation">Workstation</option>
                                <option value="laptop">Laptop</option>
                                <option value="mobile">Mobile</option>
                                <option value="network">Network</option>
                                <option value="iot">IoT</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="ipAddress">IP Address</label>
                            <input type="text" id="ipAddress" class="form-control" required placeholder="e.g., 192.168.1.100">
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="macAddress">MAC Address</label>
                            <input type="text" id="macAddress" class="form-control" placeholder="e.g., 00:11:22:33:44:55">
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="operatingSystem">Operating System</label>
                            <input type="text" id="operatingSystem" class="form-control" placeholder="e.g., Windows 10, Ubuntu 22.04">
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="osVersion">OS Version</label>
                            <input type="text" id="osVersion" class="form-control" placeholder="e.g., 10.0.19044, 22.04 LTS">
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="installedSoftware">Installed Software (comma-separated)</label>
                    <input type="text" id="installedSoftware" class="form-control" placeholder="e.g., Apache, MySQL, PHP">
                </div>
                
                <div class="form-row">
                    <div class="form-col">
                        <div class="form-group">
                            <label for="isMonitored">Monitoring Status</label>
                            <select id="isMonitored" class="form-control" required>
                                <option value="true">Monitored</option>
                                <option value="false">Not Monitored</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-col">
                        <div class="form-group">
                            <label for="organization">Organization</label>
                            <select id="organization" class="form-control" required>
                                <option value="">Select Organization</option>
                                <option value="org1">Sample Kenyan SME</option>
                                <option value="org2">Mombasa Trading Co.</option>
                                <option value="org3">Kilimo Solutions</option>
                                <option value="org4">Nakuru Manufacturers</option>
                                <option value="org5">Eldoret Logistics</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="cancel-btn" id="cancelDeviceBtn">Cancel</button>
                    <button type="submit" class="submit-btn">Add Device</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
    const isAuthenticated = localStorage.getItem('isAuthenticated');
    const userRole = localStorage.getItem('userRole') || 'user';
    
    if (!isAuthenticated) {
        window.location.href = 'index.html';
        return;
    }
    
    // Set user info in header
    document.getElementById('userName').textContent = userRole.charAt(0).toUpperCase() + userRole.slice(1);
    document.getElementById('userRole').textContent = `(${userRole})`;
    
    // Show/hide role-specific elements
    const adminElements = document.querySelectorAll('.admin-only');
    const managerElements = document.querySelectorAll('.manager-only');
    const analystElements = document.querySelectorAll('.analyst-only');
    const userElements = document.querySelectorAll('.user-only');
    const nonAdminElements = document.querySelectorAll('.non-admin-only');
    const nonManagerElements = document.querySelectorAll('.non-manager-only');

    if (userRole === 'admin') {
        adminElements.forEach(el => el.style.display = 'block');
        managerElements.forEach(el => el.style.display = 'block');
        analystElements.forEach(el => el.style.display = 'block');
    } else if (userRole === 'manager') {
        managerElements.forEach(el => el.style.display = 'block');
        nonAdminElements.forEach(el => el.style.display = 'block');
    } else if (userRole === 'analyst') {
        analystElements.forEach(el => el.style.display = 'block');
        nonAdminElements.forEach(el => el.style.display = 'block');
        nonManagerElements.forEach(el => el.style.display = 'block');
    } else if (userRole === 'user') {
        userElements.forEach(el => el.style.display = 'block');
        nonAdminElements.forEach(el => el.style.display = 'block');
        nonManagerElements.forEach(el => el.style.display = 'block');
    }
    
    // Logout handler
    document.getElementById('logoutBtn').addEventListener('click', function() {
        localStorage.removeItem('isAuthenticated');
        localStorage.removeItem('userRole');
        window.location.href = 'index.html';
    });
    
    // Device Modal Handlers
    const addDeviceModal = document.getElementById('addDeviceModal');
    const addDeviceBtn = document.getElementById('addDeviceBtn');
    const closeBtn = document.querySelector('.close-btn');
    const cancelDeviceBtn = document.getElementById('cancelDeviceBtn');
    
    function toggleModal(modal, show = true) {
        modal.style.display = show ? 'block' : 'none';
    }
    
    if (addDeviceBtn) {
        addDeviceBtn.addEventListener('click', () => toggleModal(addDeviceModal));
    }
    
    if (closeBtn) {
        closeBtn.addEventListener('click', () => toggleModal(addDeviceModal, false));
    }
    
    if (cancelDeviceBtn) {
        cancelDeviceBtn.addEventListener('click', () => toggleModal(addDeviceModal, false));
    }
    
    // Device Card Interactive Actions
    const deviceCards = document.querySelectorAll('.device-card');
    
    deviceCards.forEach(card => {
        const detailsBtn = card.querySelector('.device-action');
        const scanBtn = card.querySelector('.device-action.primary');
        const manageBtn = card.querySelector('.device-action.analyst-admin-manager-only');
        
        // Hover effect
        card.addEventListener('mouseenter', () => {
            card.style.transform = 'translateY(-5px)';
            card.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.2)';
        });
        
        card.addEventListener('mouseleave', () => {
            card.style.transform = 'translateY(0)';
            card.style.boxShadow = 'none';
        });
        
        // Details Button Interaction
        if (detailsBtn) {
            detailsBtn.addEventListener('click', () => {
                const deviceName = card.querySelector('.device-title').textContent;
                const deviceType = card.querySelector('.device-type').textContent;
                const ipAddress = card.querySelector('.info-value:first-child').textContent;
                
                // Create a modal or use an existing one to show device details
                const deviceDetailsModal = createDeviceDetailsModal(deviceName, deviceType, ipAddress);
                document.body.appendChild(deviceDetailsModal);
                deviceDetailsModal.style.display = 'block';
            });
        }
        
        // Scan Button Interaction
        if (scanBtn) {
            scanBtn.addEventListener('click', () => {
                scanBtn.disabled = true;
                scanBtn.textContent = 'Scanning...';
                scanBtn.style.opacity = '0.5';
                
                // Simulate scan process
                simulateDeviceScan(scanBtn);
            });
        }
        
        // Manage Button Interaction (only for admin, manager, analyst)
        if (manageBtn) {
            manageBtn.addEventListener('click', () => {
                if (['admin', 'manager', 'analyst'].includes(userRole)) {
                    const deviceName = card.querySelector('.device-title').textContent;
                    openDeviceManagementModal(deviceName);
                } else {
                    alert('You do not have permission to manage this device.');
                }
            });
        }
    });
    
    // Device Scan Simulation
    function simulateDeviceScan(scanBtn) {
        const progressStages = [
            'Initializing scan...',
            'Checking network connectivity...',
            'Scanning for vulnerabilities...',
            'Analyzing system configurations...',
            'Checking installed software...'
        ];
        
        let currentStage = 0;
        const scanInterval = setInterval(() => {
            if (currentStage < progressStages.length) {
                scanBtn.textContent = progressStages[currentStage];
                currentStage++;
            } else {
                clearInterval(scanInterval);
                scanBtn.textContent = 'Scan Complete';
                scanBtn.style.backgroundColor = '#22FF85';
                scanBtn.style.color = '#0f1736';
                
                // Reset button after 3 seconds
                setTimeout(() => {
                    scanBtn.disabled = false;
                    scanBtn.textContent = 'Scan';
                    scanBtn.style.opacity = '1';
                    scanBtn.style.backgroundColor = '';
                    scanBtn.style.color = '';
                }, 3000);
            }
        }, 1000);
    }
    
    // Create Device Details Modal
    function createDeviceDetailsModal(deviceName, deviceType, ipAddress) {
        const modal = document.createElement('div');
        modal.className = 'modal';
        modal.innerHTML = `
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Device Details: ${deviceName}</h2>
                    <button class="close-btn">×</button>
                </div>
                <div class="device-details">
                    <div class="detail-row">
                        <div class="detail-label">Name:</div>
                        <div class="detail-value">${deviceName}</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Type:</div>
                        <div class="detail-value">${deviceType}</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">IP Address:</div>
                        <div class="detail-value">${ipAddress}</div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="close-modal-btn">Close</button>
                </div>
            </div>
        `;
        
        // Close button handlers
        const closeButtons = modal.querySelectorAll('.close-btn, .close-modal-btn');
        closeButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                modal.style.display = 'none';
                document.body.removeChild(modal);
            });
        });
        
        // Close when clicking outside
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                document.body.removeChild(modal);
            }
        });
        
        return modal;
    }
    
    // Open Device Management Modal
    function openDeviceManagementModal(deviceName) {
        const modal = document.createElement('div');
        modal.className = 'modal';
        modal.innerHTML = `
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Manage Device: ${deviceName}</h2>
                    <button class="close-btn">×</button>
                </div>
                <div class="management-actions">
                    <button class="manage-action">Update Configurations</button>
                    <button class="manage-action">Change Security Settings</button>
                    <button class="manage-action danger">Isolate Device</button>
                    <button class="manage-action danger">Remove from Network</button>
                </div>
                <div class="modal-actions">
                    <button class="close-modal-btn">Cancel</button>
                </div>
            </div>
        `;
        
        // Action button handlers
        const actionButtons = modal.querySelectorAll('.manage-action');
        actionButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const action = btn.textContent;
                const confirmMessage = `Are you sure you want to ${action.toLowerCase()} for ${deviceName}?`;
                
                if (confirm(confirmMessage)) {
                    // Simulate action processing
                    btn.textContent = 'Processing...';
                    btn.disabled = true;
                    
                    setTimeout(() => {
                        btn.textContent = 'Completed';
                        btn.style.backgroundColor = '#22FF85';
                        btn.style.color = '#0f1736';
                        
                        setTimeout(() => {
                            btn.textContent = action;
                            btn.disabled = false;
                            btn.style.backgroundColor = '';
                            btn.style.color = '';
                        }, 2000);
                    }, 1500);
                }
            });
        });
        
        // Close button handlers
        const closeButtons = modal.querySelectorAll('.close-btn, .close-modal-btn');
        closeButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                modal.style.display = 'none';
                document.body.removeChild(modal);
            });
        });
        
        // Close when clicking outside
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                document.body.removeChild(modal);
            }
        });
        
        document.body.appendChild(modal);
        modal.style.display = 'block';
    }
    
    // Device Form Submission
    const deviceForm = document.getElementById('deviceForm');
    if (deviceForm) {
        deviceForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Collect form data
            const formData = {
                hostname: document.getElementById('hostname').value,
                deviceType: document.getElementById('deviceType').value,
                ipAddress: document.getElementById('ipAddress').value,
                macAddress: document.getElementById('macAddress').value,
                operatingSystem: document.getElementById('operatingSystem').value,
                osVersion: document.getElementById('osVersion').value,
                installedSoftware: document.getElementById('installedSoftware').value.split(',').map(s => s.trim()),
                isMonitored: document.getElementById('isMonitored').value === 'true',
                organization: document.getElementById('organization').value
            };
            
            // Simulate device addition process
            const addDeviceModal = document.getElementById('addDeviceModal');
            const submitBtn = deviceForm.querySelector('button[type="submit"]');
            
            submitBtn.disabled = true;
            submitBtn.textContent = 'Adding Device...';
            
            setTimeout(() => {
                // In a real application, this would be an API call
                console.log('Device Added:', formData);
                
                submitBtn.textContent = 'Device Added Successfully';
                submitBtn.style.backgroundColor = '#22FF85';
                
                setTimeout(() => {
                    addDeviceModal.style.display = 'none';
                    submitBtn.textContent = 'Add Device';
                    submitBtn.disabled = false;
                    submitBtn.style.backgroundColor = '';
                    deviceForm.reset();
                }, 2000);
            }, 1500);
        });
    }
});

// Add some additional CSS for the new interactive elements
const styleElement = document.createElement('style');
styleElement.textContent = `
    .modal .manage-action {
        display: block;
        width: 100%;
        padding: 12px;
        margin-bottom: 10px;
        background-color: rgba(255, 255, 255, 0.1);
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .modal .manage-action:hover {
        background-color: rgba(255, 255, 255, 0.2);
    }
    
    .modal .manage-action.danger {
        background-color: rgba(255, 91, 92, 0.2);
        color: #ff5b5c;
    }
    
    .modal .manage-action:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }
    
    .device-details {
        padding: 20px;
    }
    
    .detail-row {
        display: flex;
        margin-bottom: 10px;
        padding-bottom: 10px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .detail-label {
        flex: 1;
        font-weight: 600;
        color: rgba(255, 255, 255, 0.7);
    }
    
    .detail-value {
        flex: 2;
    }
`;
document.head.appendChild(styleElement);
    </script>
</body>
</html>